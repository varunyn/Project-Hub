# Path mapping: set HOST_PROJECTS_PATH in .env (see .env.example). Not committed.
# Mount that path so the app can read project files (git log, README).
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3030:3030"
    volumes:
      - "${HOST_PROJECTS_PATH}:/projects"
    environment:
      - NODE_ENV=production
      - HOST_PROJECTS_ROOT=${HOST_PROJECTS_PATH}
      - CONTAINER_PROJECTS_ROOT=/projects
    restart: unless-stopped
